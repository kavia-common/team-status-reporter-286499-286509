{"is_source_file": true, "format": "TypeScript", "description": "This file defines an HTTP interceptor in an Angular application that adds authorization headers to outgoing requests, handles 401 errors by attempting to refresh tokens, and manages request retry logic.", "external_files": ["@angular/common/http", "@angular/core", "../services/auth.service", "rxjs"], "external_methods": ["HttpErrorResponse", "HttpHandlerFn", "HttpInterceptorFn", "HttpRequest", "inject", "catchError", "switchMap", "throwError"], "published": ["authInterceptor"], "classes": [], "methods": [], "calls": ["inject(AuthService)", "auth.token", "req.clone()", "next(cloned)", "pipe()", "catchError()", "HttpErrorResponse", "auth.refresh()", "switchMap()", "auth.setToken()", "throwError()"], "search-terms": ["Angular HTTP interceptor", "auth token refresh", "AuthService", "Authorization header", "HttpErrorResponse 401", "authInterceptor"], "state": 2, "file_id": 22, "knowledge_revision": 49, "git_revision": "", "ctags": [{"_type": "tag", "name": "authInterceptor", "path": "/home/kavia/workspace/code-generation/team-status-reporter-286499-286509/angular_frontend/src/app/interceptors/auth.interceptor.ts", "pattern": "/^export const authInterceptor: HttpInterceptorFn = (req: HttpRequest<unknown>, next: HttpHandlerF/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "newToken", "path": "/home/kavia/workspace/code-generation/team-status-reporter-286499-286509/angular_frontend/src/app/interceptors/auth.interceptor.ts", "pattern": "/^              const newToken = auth.token;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "retryReq", "path": "/home/kavia/workspace/code-generation/team-status-reporter-286499-286509/angular_frontend/src/app/interceptors/auth.interceptor.ts", "pattern": "/^              const retryReq = req.clone({$/", "language": "TypeScript", "kind": "constant"}], "hash": "fd6c1578ca1ddee3a7b3aadb2b336616", "format-version": 4, "code-base-name": "angular_frontend", "filename": "angular_frontend/src/app/interceptors/auth.interceptor.ts", "revision_history": [{"49": ""}]}